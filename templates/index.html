<!doctype html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Chat UI (SOZD)</title>
  <link rel="stylesheet" type="text/css" href="/static/css/styles.css" />
  <link rel="shortcut icon" href="/static/image/chat.png" >
</head>
<body>
  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="History sidebar">
      <div class="sidebar-top">
        <div class="sidebar-buttons">
          <button id="newChatBtn" class="btn btn-primary">+ New chat</button>
          <div class="tools-menu-container">
            <button id="toolsBtn" class="btn btn-ghost btn-icon" title="–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã">‚öôÔ∏è</button>
            <div id="toolsMenu" class="tools-menu" style="display: none;">
              <div class="tools-menu-item" id="showVersionBtn">
                <span class="tools-menu-icon">‚ÑπÔ∏è</span>
                <span>–í–µ—Ä—Å–∏—è API</span>
              </div>
              <div class="tools-menu-item" id="clearCacheBtn">
                <span class="tools-menu-icon">üóëÔ∏è</span>
                <span>–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à</span>
              </div>
              <div class="tools-menu-item" id="clearSchemaCacheBtn">
                <span class="tools-menu-icon">üßπ</span>
                <span>–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à —Å—Ö–µ–º—ã</span>
              </div>
            </div>
          </div>
        </div>
        <div id="versionInfo" class="version-info"></div>
          <!--
          <select id="themeSelect" class="input">
            <option value="dark">Dark</option>
            <option value="light">Light</option>
          </select>
          -->
      </div>

      <div class="sidebar-search">
        <input id="searchInput" class="input" placeholder="Search chats‚Ä¶" />
      </div>

      <div id="chatList" class="chat-list" role="list"
        title="üí° –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é —á–∞—Ç–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è"></div>

      <div class="sidebar-bottom">
        <div class="user-chip">
          <div class="avatar">U</div>
          <div class="user-meta">
            <div class="user-name">You</div>
            <div class="user-sub">Local demo</div>
          </div>
        </div>
      </div>
    </aside>

    <!-- Main -->
    <main class="main">
      <header class="topbar">
        <div class="title-wrap">
          <div id="chatTitle" class="chat-title">New chat</div>
        </div>
        <div class="topbar-actions">
          <select id="dbSchemaSelect" class="input db-schema-select" title="–í—ã–±–æ—Ä —Å—Ö–µ–º—ã –ë–î">
            <!-- –ó–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑ config.js -->
          </select>
          <button id="themeToggle" class="btn btn-ghost" title="Toggle theme">
            üåô
          </button>
          <button id="clearBtn" class="btn btn-ghost" title="–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —á–∞—Ç–∞">Clear</button>
          <button type="button" id="scrollToEndBtn" class="btn" title="–í –∫–æ–Ω–µ—Ü –ª–µ–Ω—Ç—ã">‚Üì</button>
          <button type="button" id="scrollToTopBtn" class="btn" title="–í –Ω–∞—á–∞–ª–æ –ª–∫–Ω—Ç—ã">‚Üë</button>
          <button id="exportBtn" class="btn btn-ghost" title="–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —á–∞—Ç—ã –≤ JSON —Ñ–∞–π–ª">Export</button>
          <button id="toggleAllBtn" class="btn btn-outline" title="–°–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è">‚àí</button>

        </div>


      </header>

        <section class="messages-wrap" aria-label="Messages">
          <div id="messages" class="messages"></div>

          <div id="genOverlay" class="gen-overlay" aria-live="polite">
            <div class="gen-card">
              <div class="gen-spinner"></div>
              <div class="gen-text">Generating response‚Ä¶</div>
            </div>
          </div>
        </section>

      <footer class="composer">
        <form id="composerForm" class="composer-form" autocomplete="off">
          <div class="composer-box">
            <textarea
              id="promptInput"
              class="composer-input"
              rows="1"
              placeholder="Message‚Ä¶"
            ></textarea>
            <div class="composer-actions">
              <button id="voiceBtn" class="btn btn-voice" type="button" title="–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥">
                <span class="voice-icon">üé§</span>
              </button>
              <button id="sendBtn" class="btn btn-primary" type="submit">Send</button>
            </div>
          </div>
          <div class="composer-hint">
            <span>Shift+Enter ‚Äî –Ω–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞</span>
            <span class="dot">‚Ä¢</span>
            <span>Enter ‚Äî –æ—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
          </div>
        </form>
      </footer>
    </main>
  </div>
  <div id="uiBusy" class="ui-busy">‚è≥ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ‚Ä¶</div>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
  <div id="chartModal" class="modal">
    <div class="modal-content chart-modal">
      <div class="modal-header">
        <h3>üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö</h3>
        <button class="close-modal" title="–ó–∞–∫—Ä—ã—Ç—å">&times;</button>
      </div>
      <div class="chart-modal-body">
        <div class="chart-controls">
          <label for="chartTypeSelect">–¢–∏–ø –≥—Ä–∞—Ñ–∏–∫–∞:</label>
          <select id="chartTypeSelect" class="chart-type-select"></select>
          <button id="copyChartBtn" class="btn btn-sm btn-copy-chart" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞">
            üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
          </button>
          <button id="resetZoomBtn" class="btn btn-sm btn-reset-zoom" title="–°–±—Ä–æ—Å–∏—Ç—å –º–∞—Å—à—Ç–∞–±">
            üîÑ –°–±—Ä–æ—Å
          </button>
        </div>
        <div id="chartContainer" class="chart-container"></div>
      </div>
    </div>
  </div>

  <!-- Chart.js –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <!-- Chart.js –ø–ª–∞–≥–∏–Ω—ã -->
  <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0/dist/chartjs-plugin-datalabels.min.js"></script>
  <!-- Markdown renderer (lightweight) -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- Optional: code highlighting (DISABLED due to require error) -->
  <!-- <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.10.0/build/highlight.min.js"></script> -->

  <script type="module" src="/static/js/app.js"></script>
</body>
</html>
